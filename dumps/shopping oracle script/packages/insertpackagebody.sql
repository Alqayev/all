CREATE OR REPLACE PACKAGE BODY C##BIGDATA.INSERTPACKAGE
AS 
PROCEDURE INSERTPRODUCTLIST(P_NAME IN PRODUCTS_ON_SALE.NAME%TYPE,P_PICTURE IN PRODUCTS_ON_SALE.PICTURE%TYPE,
P_PRICE IN PRODUCTS_ON_SALE.PRICE%TYPE,P_BONVAL IN PRODUCTS_ON_SALE.BONUCE_VALUE%TYPE,
P_PRODUCTPICTURE IN PRODUCT_PICTURE.PRODUCT_PATH%TYPE,P_CATEGORY IN PRODUCTS_ON_SALE.CATEGORY%TYPE)
IS 
P_PRODUCTID  PRODUCT_PICTURE.PRODUCT_ID%TYPE;
BEGIN
INSERT INTO PRODUCTS_ON_SALE (NAME,PICTURE,PRICE,BONUCE_VALUE,CATEGORY) values (P_NAME,P_PICTURE,P_PRICE,P_BONVAL,P_CATEGORY)
RETURNING PRODUCTS_ON_SALE.ID INTO P_PRODUCTID;

INSERT INTO PRODUCT_PICTURE (PRODUCT_ID,PRODUCT_PATH) values (P_PRODUCTID,P_PRODUCTPICTURE);

EXCEPTION
   WHEN OTHERS
   THEN
      DBMS_OUTPUT.put_line ('<SHOWPRODUCTS message>' || SQLERRM); 
END INSERTPRODUCTLIST;
END INSERTPACKAGE;
/
