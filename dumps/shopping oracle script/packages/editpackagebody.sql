CREATE OR REPLACE PACKAGE BODY C##BIGDATA.EDITPACKAGE
AS
FUNCTION EDITBONUCELIST(BYID IN NUMBER)
RETURN SYS_REFCURSOR
IS
BONUCELIST SYS_REFCURSOR;
BEGIN
OPEN BONUCELIST FOR 
SELECT B.PRIMARY_ID,B.BONUCE_NAME,B.BONUCE_QUONTITY,B.OPEN_BONUCE_DATE,B.ACTIVE FROM BONUS_TABLE B WHERE B.PRIMARY_ID=BYID;
RETURN BONUCELIST;
EXCEPTION
   WHEN OTHERS
   THEN
      DBMS_OUTPUT.put_line ('<EDITBONUCELIST message>' || SQLERRM);
END EDITBONUCELIST;

 FUNCTION EDITPRODUCTLIST (BYID IN NUMBER)
RETURN SYS_REFCURSOR
IS
PRODUCTLIST SYS_REFCURSOR;
BEGIN
OPEN PRODUCTLIST FOR 
SELECT P.ID,P.NAME,P.PICTURE,P.PRICE,P.BONUCE_VALUE,P.IMPORTED_DATE,P.ACTIVE,D.ID DICID, D.DICT_VALUE FROM PRODUCTS_ON_SALE P
INNER JOIN DICTIONARY D ON D.ID=P.CATEGORY  WHERE  P.ID=BYID;
RETURN PRODUCTLIST;
EXCEPTION
   WHEN OTHERS
   THEN
      DBMS_OUTPUT.put_line ('<EDITBONUCELIST message>' || SQLERRM); 
END EDITPRODUCTLIST;--

FUNCTION EDITCUSTOMERLIST ( BYID IN NUMBER )
RETURN SYS_REFCURSOR
IS 
CUSTOMERLISTBYID SYS_REFCURSOR;
BEGIN
OPEN CUSTOMERLISTBYID FOR 
SELECT L.ID,L.NAME,L.SURNAME,L.EMAIL,L.LOGIN_DATE,L.TASK,L.ACTIVE FROM LOGIN_TABLE_PRIMARY L WHERE  L.ID=BYID;
RETURN CUSTOMERLISTBYID;
EXCEPTION
   WHEN OTHERS
   THEN
      DBMS_OUTPUT.put_line ('<EDITCUSTOMERLIST message>' || SQLERRM); 
END EDITCUSTOMERLIST;
END EDITPACKAGE;
/
